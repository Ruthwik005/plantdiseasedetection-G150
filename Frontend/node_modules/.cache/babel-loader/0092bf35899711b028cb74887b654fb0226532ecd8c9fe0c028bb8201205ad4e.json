{"ast":null,"code":"// src/utils/authUtils.js\n\n// Check if the JWT token is expired\nexport const isTokenExpired = token => {\n  if (!token) return true;\n  try {\n    const decodedToken = JSON.parse(atob(token.split('.')[1])); // Decode JWT payload\n    const currentTime = Date.now() / 1000; // Current time in seconds\n    return decodedToken.exp < currentTime; // Return if the token is expired\n  } catch (error) {\n    console.error('Invalid token:', error);\n    return true;\n  }\n};\n\n// Log out the user by clearing localStorage and redirecting to login\nexport const logoutUser = navigate => {\n  alert(\"Token expired,login again!!\");\n  localStorage.removeItem('loggedInUser');\n  localStorage.removeItem('token');\n  localStorage.clear();\n  navigate('/');\n  window.location.reload();\n};","map":{"version":3,"names":["isTokenExpired","token","decodedToken","JSON","parse","atob","split","currentTime","Date","now","exp","error","console","logoutUser","navigate","alert","localStorage","removeItem","clear","window","location","reload"],"sources":["C:/Users/chama/OneDrive/Desktop/plantdiseasedetection1/Frontend/src/Components/authUtils.js"],"sourcesContent":["// src/utils/authUtils.js\r\n\r\n// Check if the JWT token is expired\r\nexport const isTokenExpired = (token) => {\r\n    if (!token) return true;\r\n  \r\n    try {\r\n      const decodedToken = JSON.parse(atob(token.split('.')[1])); // Decode JWT payload\r\n      const currentTime = Date.now() / 1000; // Current time in seconds\r\n      return decodedToken.exp < currentTime; // Return if the token is expired\r\n    } catch (error) {\r\n      console.error('Invalid token:', error);\r\n      return true;\r\n    }\r\n  };\r\n  \r\n  // Log out the user by clearing localStorage and redirecting to login\r\n  export const logoutUser = (navigate) => {\r\n    alert(\"Token expired,login again!!\");\r\n    localStorage.removeItem('loggedInUser');\r\n    localStorage.removeItem('token');\r\n    localStorage.clear();\r\n    \r\n    navigate('/'); \r\n    window.location.reload();\r\n  };\r\n  "],"mappings":"AAAA;;AAEA;AACA,OAAO,MAAMA,cAAc,GAAIC,KAAK,IAAK;EACrC,IAAI,CAACA,KAAK,EAAE,OAAO,IAAI;EAEvB,IAAI;IACF,MAAMC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACJ,KAAK,CAACK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5D,MAAMC,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;IACvC,OAAOP,YAAY,CAACQ,GAAG,GAAGH,WAAW,CAAC,CAAC;EACzC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACtC,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAME,UAAU,GAAIC,QAAQ,IAAK;EACtCC,KAAK,CAAC,6BAA6B,CAAC;EACpCC,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC;EACvCD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;EAChCD,YAAY,CAACE,KAAK,CAAC,CAAC;EAEpBJ,QAAQ,CAAC,GAAG,CAAC;EACbK,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;AAC1B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}